<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <header class="row p-4 border">
        <div class="col-12 col-md-6">
          <img
            src="https://d1csarkz8obe9u.cloudfront.net/posterpreviews/supermarket-logo-design-template-78917b1e696887b11a9012a133e26755_screen.jpg?ts=1704864747"
            alt="supermarketlogo"
            id="supermarket-logo"
          />
        </div>
        <div class="col-12 col-md-6">
          <div
            class="w-100 h-100 d-flex justify-content-end align-items-center"
          >
            <ul class="d-flex">
              <li><a href="">Home</a></li>
              <li><a href="">About</a></li>
              <li><a href="">Shop</a></li>
              <li><a href="">Help</a></li>
            </ul>
            <button class="default-button">
              <i class="bi bi-cart-fill"></i> Your Cart
            </button>
          </div>
        </div>
      </header>
      <div class="row">
        <nav class="col-12 col-md-3 border">
          <div class="w-100 h-100 d-flex flex-column p-4">
            <button
              (click)="filterProductsLessPrice()"
              class="default-button w-50 mb-2 d-md-none d-sm-block d-lg-block"
            >
              Filter less 2000 &euro;
            </button>
            <button
              (click)="filterProductsLessPrice()"
              class="default-button w-100 mb-2 d-none d-lg-none d-md-block"
            >
              Filter less 2000 &euro;
            </button>
            <button
              (click)="filterProductsMorePrice()"
              class="default-button w-50 mb-2 d-md-none d-sm-block d-lg-block"
            >
              Filter more 2000 &euro;
            </button>
            <button
              (click)="filterProductsMorePrice()"
              class="default-button w-100 mb-2 d-none d-lg-none d-md-block"
            >
              Filter more 2000 &euro;
            </button>
            <button
              (click)="filterProductsTopRating()"
              class="default-button w-50 mb-2 d-md-none d-sm-block d-lg-block"
            >
              Filter top rating
            </button>
            <button
              (click)="filterProductsTopRating()"
              class="default-button w-100 mb-2 d-none d-lg-none d-md-block"
            >
              Filter top rating
            </button>
            <button
              (click)="resetFilters()"
              class="default-button w-50 mb-2 d-md-none d-sm-block d-lg-block"
            >
              Reset Filter
            </button>
            <button
              (click)="resetFilters()"
              class="default-button w-100 mb-2 d-none d-lg-none d-md-block"
            >
              Reset Filter
            </button>
            <div class="w-100">
              <h3 class="mt-4">Products</h3>
              <div
                *ngFor="let product of products"
                (click)="changeProduct(product)"
                class="products-container d-flex mt-4"
              >
                <div
                  class="w-100 d-flex justify-content-between border-bottom pb-2"
                >
                  <p>{{ product.product }}</p>
                  <i class="bi bi-caret-right"></i>
                </div>
              </div>
            </div>
          </div>
        </nav>
        <div
          class="col-12 col-md-9 border"
          [class]="product.favorite ? 'bg bg-dark text-light' : ''"
        >
          <app-product-detail
            [product]="product"
            (onDeleteProductClicked)="deleteProduct(product)"
            (onChangeFavoriteStatusClicked)="changeFavoriteStatus(product)"
          ></app-product-detail>

          <div
            *ngIf="product.similarProducts.length > 0"
            class="row border-top border-bottom similar-products p-4"
          >
            <div class="col-12 d-flex flex-wrap justify-content-center">
              <h1 class="w-100 text-center mb-2">Similar Products</h1>

              <app-similar-product
                *ngFor="let similarProduct of product.similarProducts"
                (click)="changeProduct(similarProduct.product)"
                class="d-flex flex-column align-items-center justify-content-center m-4"
                [similarProduct]="similarProduct"
              >
              </app-similar-product>
            </div>
          </div>
          <div
            *ngIf="product.reviews && product.reviews.length > 0"
            class="row p-4"
          >
            <div class="col-12 mb-4">
              <h1>Reviews</h1>
            </div>
            <div class="col-12 pt-2 mb-4">
              <div
                *ngFor="let review of product.reviews"
                class="row review mb-2 pb-2"
              >
                <div class="col-12 col-lg-1 d-flex justify-content-center">
                  <i class="bi bi-person-circle"></i>
                </div>
                <div
                  class="col-12 col-lg-3 mb-2 d-flex flex-column align-items-center"
                >
                  <h3 class="mt-2 text-center">{{ review.name }}</h3>
                  <p>{{ review.date }}</p>
                  <div class="d-flex">
                    <app-stars-rating
                      [starsRating]="review.rating"
                    ></app-stars-rating>
                  </div>
                </div>
                <div class="col-12 col-lg-8">
                  <p>
                    {{ review.opinion }}
                  </p>
                </div>

                <hr class="w-25 d-none d-md-block" />
                <hr class="w-100 d-block d-md-none" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
